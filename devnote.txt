一些想法 (需要直接調用 Windows API)
 - 用 USN Journal 來追蹤檔案系統變更來達到快速掃描的目的 (NTFS 限定)

平行化版本
Initialize:
- queue = ConcurrentQueue([source_root])
- current_level_visited = ConcurrentHashSet
- progress tracker
- worker_count = N

for i in 1..=worker_count:
    spawn async worker:
        while true:
            current_dir = queue.pull()
            if current_dir is None:
                if current_level_visited.is_empty():
                    break
                queue.extend(current_level_visited.clear())
                continue

            process current_dir:
                - check/create directory structure
                - spawn file copy tasks

            get subdirectories from current_dir:
                for each sub_dir:
                    if !sub_dir.starts_with(source_root):
                        continue

                    if is_cycle(sub_dir):
                        continue

                    if !current_level_visited.add(sub_dir):
                        continue

                    queue.push(sub_dir)

            update progress (save queue, set state)
            save checkpoint periodically
join all workers
